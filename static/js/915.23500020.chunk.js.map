{"version":3,"file":"static/js/915.23500020.chunk.js","mappings":"yNAwCA,UAnCe,WAAO,IAAD,EACnB,GAAwCA,EAAAA,EAAAA,MAAiB,eAAlDC,EAAY,KAAEC,EAAe,KAC9BC,EAAuC,QAA5B,EAAGF,EAAaG,IAAI,gBAAQ,QAAI,GACjD,GAA4BC,EAAAA,EAAAA,UAASF,GAAY,eAA1CG,EAAM,KAAEC,EAAS,KACxB,GAA4BF,EAAAA,EAAAA,UAAS,IAAG,eAAjCG,EAAM,KAAEC,EAAS,MAExBC,EAAAA,EAAAA,YAAU,WACR,GAAe,KAAXJ,EAAJ,CAIA,IAAMK,EAAS,yCAAG,qHAEYC,EAAAA,EAAAA,IAAgBN,GAAQ,KAAD,WAAzCO,EAAO,EAAPA,QACRJ,EAAUI,GAAS,yGAEtB,kBALc,mCAMfF,GAPA,MAFEF,EAAU,GAUd,GAAG,CAACH,IASJ,OACE,UAAC,KAAG,CAACQ,GAAG,OAAM,WACZ,SAAC,KAAS,CAACC,SATM,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAQF,EAAEG,OAAO,GAAGC,MAC1Bb,EAAUW,GACVhB,EAA0B,KAAVgB,EAAe,CAAEA,MAAOA,GAAU,CAAC,EACrD,IAKKV,EAAOa,QAAS,SAAC,KAAY,CAACb,OAAQA,IAAa,KAG1D,C","sources":["pages/MoviesPage/Movies.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getSearchMovies } from '../../services/fetchAPI';\nimport { Box, SearchBox, GalleryItems } from '../../components';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n  const [search, setSearch] = useState(searchQuery);\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    if (search === '') {\n      setMovies([]);\n      return;\n    }\n    const getMovies = async () => {\n      try {\n        const { results } = await getSearchMovies(search);\n        setMovies(results);\n      } catch (error) {}\n    };\n    getMovies();\n  }, [search]);\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const query = e.target[0].value;\n    setSearch(query);\n    setSearchParams(query !== '' ? { query: query } : {});\n  };\n\n  return (\n    <Box as=\"main\">\n      <SearchBox onSubmit={onFormSubmit} />\n      {movies.length ? <GalleryItems movies={movies} /> : ''}\n    </Box>\n  );\n};\n\nexport default Movies;\n"],"names":["useSearchParams","searchParams","setSearchParams","searchQuery","get","useState","search","setSearch","movies","setMovies","useEffect","getMovies","getSearchMovies","results","as","onSubmit","e","preventDefault","query","target","value","length"],"sourceRoot":""}